<launch>
    <arg name="task_type"/>
    <!-- [none, kNN, svm, dnn]-->
    <arg name="classifier_type"/>
    <!-- Usable (dim, slice_type options):
         (13, basic)
         (7, basic)
         (7, in_plane_gravity_aligned)
         (7, in_plane_gripper_aligned)
         (7, extend_downwards_gravity_aligned)
         (7, extend_downwards_gripper_aligned)
      -->
    <arg name="dim"/>
    <arg name="slice_type"/>

    <group ns="classifier">
        <param name="dim"                   value="$(arg dim)"              type="int"/>
        <param name="type"                  value="$(arg classifier_type)"  type="string"/>
        <param name="slice_type"            value="$(arg slice_type)"       type="string"/>
        <param name="accept_scale_factor"   value="12.0"                    type="double"/>
        <group ns="transformer">
            <!--<rosparam file="$(find smmap)/logs/$(arg task_type)/$(arg dim)feature__$(arg slice_type).scaler" command="load"/>-->
            <rosparam file="$(find smmap)/logs/rope_hooks_simple/$(arg dim)feature__$(arg slice_type).scaler" command="load"/>
        </group>
    </group>
    <group ns="kNN" if="$(eval classifier_type == 'kNN')">>
        <arg name="root_folder" value="/mnt/big_narstie_data/dmcconac/transition_learning_data_generation/smmap_generated_plans/rope_hooks_simple/generate_training_examples"/>
        <param name="data_file"     value="$(arg root_folder)/scaled_data_$(arg dim)features__$(arg slice_type).ssv" type="string"/>
        <param name="accuracy"      value="0.63"    type="double"   if="$(eval dim == 13 and slice_type =='basic')"/>
        <param name="accuracy"      value="0.56"    type="double"   if="$(eval dim == 7 and slice_type =='basic')"/>
        <param name="accuracy"      value="0.55"    type="double"   if="$(eval dim == 7 and slice_type =='extend_downwards_gravity_aligned')"/>
    </group>
    <group ns="svm" if="$(eval classifier_type == 'svm')">
        <param name="model_file"    value="$(find smmap)/logs/rope_hooks_simple/$(arg dim)feature__$(arg slice_type)__svm.model" type="string"/>
        <param name="accuracy"      value="0.63"    type="double"   if="$(eval dim == 13 and slice_type =='basic')"/>
        <param name="accuracy"      value="0.52"    type="double"   if="$(eval dim == 7 and slice_type =='basic')"/>
        <param name="accuracy"      value="0.55"    type="double"   if="$(eval dim == 7 and slice_type =='extend_downwards_gravity_aligned')"/>
    </group>
    <group ns="dnn" if="$(eval classifier_type == 'dnn')">
        <param name="threshold"     value="0.6"                     type="double"/>
        <param name="model_file"    value="$(find smmap)/logs/rope_hooks_simple/$(arg dim)feature__$(arg slice_type)__torch_model_cpu.pt" type="string"/>
        <param name="accuracy"      value="0.72"    type="double"   if="$(eval dim == 13 and slice_type =='basic')"/>
        <param name="accuracy"      value="0.64"    type="double"   if="$(eval dim == 7 and slice_type =='basic')"/>
        <param name="accuracy"      value="0.121232141242142122222222222222222222222222222222222222222214214124124"    type="double"   if="$(eval dim == 7 and slice_type =='extend_downwards_gravity_aligned')"/>
    </group>
    <group ns="none">
        <!-- Note that this is unused for the 'none' classifier -->
        <param name="accuracy"      value="1.0"    type="double"/>
    </group>
</launch>